<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BloxdTweaks Editor</title>
    <style>
        body {
            background: url('https://iili.io/2LnOhhX.png') no-repeat center center fixed;
            background-size: cover;
            font-family: Arial, sans-serif;
            color: white;
        }
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 250px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            transition: transform 0.3s ease-in-out;
        }
        .content {
            margin-left: 260px;
            padding: 20px;
        }
        .bar {
            width: 300px;
            height: 30px;
            margin: 10px auto;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            box-shadow: inset 0 4px 0 0 #ffffff1a, inset 0 -4px 0 0 #0000001a;
        }
        .bar span {
            position: absolute;
            color: black;
            font-weight: bold;
        }
        #shieldBar {
            background: linear-gradient(45deg, #ffb914, #fee9b9, #ffb914, #fee9b9, #fcd373, #fee9b9, #ffb914, #fee9b9, #ffb914);
            background-size: 100% 200%;
        }
        #healthBar {
            background: linear-gradient(60deg, red, orange);
            background-size: 100% 100%;
        }
        .buttons {
            margin-top: 20px;
        }
        button {
            padding: 10px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #downloadBtn {
            background-color: gray;
            cursor: not-allowed;
        }
        .color-picker-container {
            margin-bottom: 20px;
        }
        .color-box {
            display: inline-block;
            width: 30px;
            height: 30px;
            margin: 5px;
            cursor: pointer;
            border: 2px solid #fff;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <button onclick="toggleSidebar()">â˜°</button>
        <ul>
            <li><button onclick="showEditor('healthbar')">Change Healthbar</button></li>
            <li><button>Change UI</button></li>
            <li><button>Change Hotbar</button></li>
            <li><button>Change Buttons</button></li>
            <li><button>Change Textures and Models</button></li>
            <li><button>Change SkyBox</button></li>
            <li><button>Others</button></li>
        </ul>
    </div>

    <div class="content" id="editor">
        <h1>Welcome to the BloxdTweaks Editor!!!</h1>
    </div>
    
    <div class="content" id="healthbarEditor" style="display: none;">
        <h2>Shield Bar</h2>
        <div id="shieldBar" class="bar">
            <span>40/40</span>
        </div>
        <div class="color-picker-container">
            <label>Add new color to ShieldBar:</label>
            <input type="color" id="shieldColorPicker">
            <button onclick="addColor('shield')">Add Color</button>
        </div>
        <div id="shieldColors"></div>
        
        <h2>Health Bar</h2>
        <div id="healthBar" class="bar">
            <span>100/100</span>
        </div>
        <div class="color-picker-container">
            <label>Add new color to HealthBar:</label>
            <input type="color" id="healthColorPicker">
            <button onclick="addColor('health')">Add Color</button>
        </div>
        <div id="healthColors"></div>
        
        <div class="buttons">
            <label for="shieldAngle">ShieldBar Direction:</label>
            <input type="range" id="shieldAngle" min="0" max="360" value="45" onchange="updateDirection('shield')">
            <br>
            <label for="healthAngle">HealthBar Direction:</label>
            <input type="range" id="healthAngle" min="0" max="360" value="60" onchange="updateDirection('health')">
            <br>
            <button id="downloadBtn" onclick="downloadCSS()" disabled>Download CSS</button>
        </div>
    </div>

    <script>
        let shieldColors = ['#ffb914', '#fee9b9'];
        let healthColors = ['#ff0000', '#ffa500'];
        let shieldAngle = 45;
        let healthAngle = 60;
        let changed = false;

        function updateBar() {
            let shieldGradient = `linear-gradient(${shieldAngle}deg, ${shieldColors.join(', ')})`;
            let healthGradient = `linear-gradient(${healthAngle}deg, ${healthColors.join(', ')})`;
            document.getElementById('shieldBar').style.background = shieldGradient;
            document.getElementById('healthBar').style.background = healthGradient;
            changed = true;
            document.getElementById('downloadBtn').style.backgroundColor = "#ffb914";
            document.getElementById('downloadBtn').disabled = false;
        }

        function addColor(barType) {
            let colorPicker = barType === 'shield' ? document.getElementById('shieldColorPicker') : document.getElementById('healthColorPicker');
            let color = colorPicker.value;

            if (barType === 'shield') {
                shieldColors.push(color);
                displayColors('shield');
            } else {
                healthColors.push(color);
                displayColors('health');
            }

            updateBar();
        }

        function displayColors(barType) {
            let colorContainer = barType === 'shield' ? document.getElementById('shieldColors') : document.getElementById('healthColors');
            let colors = barType === 'shield' ? shieldColors : healthColors;

            colorContainer.innerHTML = '';
            colors.forEach((color, index) => {
                let colorBox = document.createElement('div');
                colorBox.classList.add('color-box');
                colorBox.style.backgroundColor = color;
                colorBox.onclick = () => changeColor(barType, index);
                colorBox.oncontextmenu = (e) => {
                    e.preventDefault();
                    confirmDelete(barType, index);
                };
                colorContainer.appendChild(colorBox);
            });
        }

        function changeColor(barType, index) {
            let newColor = prompt('Enter new color code:', barType === 'shield' ? shieldColors[index] : healthColors[index]);
            if (newColor) {
                if (barType === 'shield') {
                    shieldColors[index] = newColor;
                } else {
                    healthColors[index] = newColor;
                }
                displayColors(barType);
                updateBar();
            }
        }

        function confirmDelete(barType, index) {
            if (confirm('Do you want to delete this color?')) {
                if (barType === 'shield') {
                    shieldColors.splice(index, 1);
                } else {
                    healthColors.splice(index, 1);
                }
                displayColors(barType);
                updateBar();
            }
        }

        function updateDirection(barType) {
            if (barType === 'shield') {
                shieldAngle = document.getElementById('shieldAngle').value;
            } else {
                healthAngle = document.getElementById('healthAngle').value;
            }
            updateBar();
        }

        function downloadCSS() {
            if (!changed) return;
            let cssContent = `.ShieldBar {\n  background: linear-gradient(${shieldAngle}deg, ${shieldColors.join(', ')});\n}\n.HealthBar {\n  background: linear-gradient(${healthAngle}deg, ${healthColors.join(', ')});\n}`;
            let blob = new Blob([cssContent], { type: 'text/css' });
            let link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = "changeHealthbar.css";
            link.click();
        }

        function showEditor(editor) {
            document.getElementById('editor').style.display = 'none';
            document.getElementById('healthbarEditor').style.display = 'none';
            if (editor === 'healthbar') {
                document.getElementById('healthbarEditor').style.display = 'block';
            }
        }

        function toggleSidebar() {
            let sidebar = document.querySelector('.sidebar');
            sidebar.style.transform = sidebar.style.transform === 'translateX(-250px)' ? 'translateX(0)' : 'translateX(-250px)';
        }

        displayColors('shield');
        displayColors('health');
    </script>
</body>
</html>
